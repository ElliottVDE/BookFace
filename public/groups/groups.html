<!-- groups.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BookFace - Groups</title>
  <link rel="stylesheet" href="../stylesheet.css"> <!-- Adjust path as needed -->
</head>
<body>
  <div id="navbar-container"></div>

  <div id="groups" class="section">
    <h2>All Groups</h2>
    <div id="groupList"></div> <!-- We'll fill this with JS -->
  </div>

  <script>
    // 1. Load the navbar
    fetch('../Components/navbar.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('navbar-container').innerHTML = data;
      })
      .catch(err => console.error(err));

    // 2. Fetch and display groups
    fetch('/data/groups.json')
      .then(response => response.json())
      .then(groups => {
        const groupListDiv = document.getElementById('groupList');
        groups.forEach(group => {
          // Build a simple card or list item for each group
          const groupCard = document.createElement('div');
          groupCard.classList.add('group-card'); // Optional CSS class

          groupCard.innerHTML = `
            <h3>${group.name}</h3>
            <p>${group.description}</p>
            <button onclick="visitGroup(${group.id})">Visit</button>
          `;
          groupListDiv.appendChild(groupCard);
        });
      })
      .catch(err => console.error(err));

    // 3. "Visit" button function
    function visitGroup(groupId) {
      // For example, navigate to group_posts.html with ?groupId=...
      window.location.href = `../group_posts/group_posts.html?groupId=${groupId}`;
    }
  </script>
</body>
</html>
